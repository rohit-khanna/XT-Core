{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./backend/services/FetchDAL.js","webpack:///./node_modules/node-fetch/browser.js","webpack:///./backend/model/CartProduct.js","webpack:///./backend/model/ShoppingCart.js","webpack:///./backend/services/ProductService.js","webpack:///./backend/services/ShoppingCartService.js","webpack:///./UI/js/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","fetch","[object Object]","remote_db_url","this","url","entityData","method","headers","Content-Type","body","JSON","stringify","id","console","log","entityObject","global","self","window","Error","getGlobal","default","Headers","Request","Response","model_CartProduct","productId","size","color","specialPrice","quantity","model_ShoppingCart","cartProducts","itemCount","promoCode","subTotal","shippingCharge","estimatedTotal","promoCodeDiscount","newProduct","push","incrementSubTotal","product","find","x","decrementSubTotal","index","findIndex","splice","undefined","newColor","newSize","newQty","diff","incrementProductQuantity","decrementProductQuantity","getProductPrice","calculateEstimatedTotal","code","toUpperCase","charge","parseFloat","services_ProductService","DALObject","dalObj","res","status","json","statusText","productEntity","Promise","resolve","reject","save","then","_handleDALResponse","output","catch","err","findById","findAll","update","removeById","services_ShoppingCartService","productService","cart","f","FetchDAL_default","a","findAllProductsAsync","forEach","ele","addProduct","availableSizes","availableColors","price","editProduct","applyPromoCode","applyShippingCharge","$","async","serviceInstance","__loadSampleProductData","g"],"mappings":"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","file":"my-first-webpack.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","/**\r\n * PURPOSE      :   This is the DAL layer with Generic 'Fetch API' Implementation\r\n *\r\n * AUTHOR       :   Rohit Khanna\r\n *\r\n * LICENSE      :   PUBLIC\r\n *\r\n */\r\n\r\n\"use strict\";\r\n//const fetch = require(\"node-fetch\"); // to run fetch over NodeJS\r\nconst fetch = require(\"node-fetch\"); // to run fetch over NodeJS\r\n\r\n\r\nclass FetchDAL {\r\n  /**\r\n   * Initializes the FetchDAL Instance\r\n   * @param {*} remote_db_url URL for Remote Db Server/Service\r\n   */\r\n  constructor(remote_db_url) {\r\n    this.url = remote_db_url;\r\n  }\r\n\r\n  /**\r\n   * Save a New Entity\r\n   * @param {*} entityData  entity Object\r\n   */\r\n  async save(entityData) {\r\n    let res = await fetch(this.url, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\"\r\n      },\r\n      body: JSON.stringify(entityData)\r\n    });\r\n    return res;\r\n  }\r\n\r\n  /**\r\n   * Fetch All Entities\r\n   */\r\n  async findAll() {\r\n    let res = await fetch(this.url);\r\n    return res;\r\n  }\r\n\r\n  /**\r\n   * Find Entity By ID\r\n   * @param {*} id identifier\r\n   */\r\n  async findById(id) {\r\n    let res = await fetch(this.url + \"/\" + id);\r\n    return res;\r\n  }\r\n\r\n  test(){\r\n    console.log('yess');\r\n    \r\n  }\r\n  /**\r\n   * Update the Entity Object\r\n   * @param {*} entityObject\r\n   */\r\n  async update(entityObject) {\r\n    let res = await fetch(this.url + \"/\" + entityObject.id, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\"\r\n      },\r\n      body: JSON.stringify(entityObject)\r\n    });\r\n    return res;\r\n  }\r\n\r\n  /**\r\n   * Remove the Entity Object\r\n   * @param {*} id\r\n   */\r\n  async removeById(id) {\r\n    let res = await fetch(this.url + \"/\" + id, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\"\r\n      }\r\n    });\r\n    return res;\r\n  }\r\n}\r\n\r\nmodule.exports = FetchDAL;\r\n","\"use strict\";\n\n// ref: https://github.com/tc39/proposal-global\nvar getGlobal = function () {\n\t// the only reliable means to get the global object is\n\t// `Function('return this')()`\n\t// However, this causes CSP violations in Chrome apps.\n\tif (typeof self !== 'undefined') { return self; }\n\tif (typeof window !== 'undefined') { return window; }\n\tif (typeof global !== 'undefined') { return global; }\n\tthrow new Error('unable to locate global object');\n}\n\nvar global = getGlobal();\n\nmodule.exports = exports = global.fetch;\n\n// Needed for TypeScript and Webpack.\nexports.default = global.fetch.bind(global);\n\nexports.Headers = global.Headers;\nexports.Request = global.Request;\nexports.Response = global.Response;","/**\r\n * PURPOSE      :  This is the Model for Shopping Cart-Product\r\n *\r\n * AUTHOR       :   Rohit Khanna\r\n *\r\n * LICENSE      :   PUBLIC\r\n *\r\n */\r\n\r\n\"use strict\";\r\n\r\nclass CartProduct {\r\n  \r\n  constructor(productId, size, color, specialPrice = -1) {\r\n    this.id = productId;\r\n    this.quantity = 1;\r\n    this.specialPrice = specialPrice;\r\n    this.size = size;\r\n    this.color = color;\r\n  }\r\n\r\n \r\n  /**\r\n   * Fetch the Product Details from Product Service\r\n   */\r\n  getProductDetails() {\r\n    //Todo\r\n    // Fetch Product Details for this Product\r\n    throw new Error(\"Not Implemented\");\r\n  }\r\n\r\n  getProductPrice() {\r\n    //Todo\r\n    // Fetch Product Details for this Product\r\n    return 655.76;\r\n  }\r\n}\r\n\r\nexport default CartProduct;\r\n","/** \r\n* PURPOSE      :  This is the Model class for the Shopping Cart \r\n\r\n* AUTHOR       :   Rohit Khanna\r\n*\r\n* LICENSE      :   PUBLIC\r\n*/\r\n\r\n\"use strict\";\r\n\r\nimport CartProduct from \"./CartProduct\";\r\n\r\nclass ShoppingCart {\r\n  constructor() {\r\n    this.cartProducts = []; // can be 2 products with 2 instances each: hence count=2\r\n    this.itemCount = 0; // will be 4\r\n    this.promoCode;\r\n    this.subTotal = 0;\r\n    this.shippingCharge = 0;\r\n    this.estimatedTotal = 0;\r\n    this.promoCodeDiscount = 0;\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {*} id\r\n   * @param {*} specialPrice\r\n   */\r\n  addProduct(id, size, color, specialPrice) {\r\n    let newProduct = new CartProduct(id, size, color, specialPrice);\r\n    this.cartProducts.push(newProduct);\r\n    this.itemCount++;\r\n    this.incrementSubTotal(newProduct);\r\n  }\r\n\r\n  /**\r\n   * method to Increment The Product Quantity in cart\r\n   * @param {*} id cartProductId\r\n   */\r\n  incrementProductQuantity(id) {\r\n    let product = this.cartProducts.find(x => x.id == id);\r\n    product.quantity++;\r\n    this.itemCount++;\r\n    this.incrementSubTotal(product);\r\n  }\r\n\r\n  /**\r\n   * method to Decrement The Product Quantity in cart\r\n   * @param {*} id cartProductId\r\n   */\r\n  decrementProductQuantity(id) {\r\n    let product = this.cartProducts.find(x => x.id == id);\r\n    product.quantity--;\r\n    this.itemCount--;\r\n    this.decrementSubTotal(product);\r\n  }\r\n\r\n  /**\r\n   * Remove the Product from Cart.\r\n   * @param {*} id CartProductId\r\n   */\r\n  removeProduct(id) {\r\n    let product = this.cartProducts.find(x => x.id == id);\r\n\r\n    // adjust the Totals\r\n    for (let i = 0; i < product.quantity; i++) {\r\n      this.itemCount--;\r\n      this.decrementSubTotal(product);\r\n    }\r\n    //remove from Cart\r\n    let index = this.cartProducts.findIndex(p => p.id === id);\r\n    this.cartProducts.splice(index, 1, undefined);\r\n  }\r\n\r\n  /**\r\n   * method to Edit Cart Product\r\n   * @param {*} newColor new Color\r\n   * @param {*} newSize new Size\r\n   * @param {*} newQty new Quantity: NOT IMPLEMENTED\r\n   */\r\n  editProduct(id, newColor, newSize, newQty) {\r\n    let product = this.cartProducts.find(x => x.id == id);\r\n    if (newSize) {\r\n      product.size = newSize;\r\n    }\r\n    if (newColor) {\r\n      product.color = newColor;\r\n    }\r\n    if (newQty) {\r\n      let diff = newQty - product.quantity;\r\n\r\n      if (diff == 0) {\r\n        throw new Error(\"NOT HANDLED\");\r\n      } else {\r\n        for (let i = 0; i < diff; i++) {\r\n          diff > 0\r\n            ? this.incrementProductQuantity(id)\r\n            : this.decrementProductQuantity(id);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Increment The Cart SubTotal\r\n   * @param {*} product Product Added\r\n   */\r\n  incrementSubTotal(product) {\r\n    this.subTotal +=\r\n      product.specialPrice != -1\r\n        ? product.specialPrice\r\n        : product.getProductPrice();\r\n\r\n    //calculate Estmated Total\r\n    this.calculateEstimatedTotal();\r\n  }\r\n\r\n  /**\r\n   * Decrement The Cart SubTotal\r\n   * @param {*} product Product Removed\r\n   */\r\n  decrementSubTotal(product) {\r\n    this.subTotal -=\r\n      product.specialPrice != -1\r\n        ? product.specialPrice\r\n        : product.getProductPrice();\r\n\r\n    //calculate Estmated Total\r\n    this.calculateEstimatedTotal();\r\n  }\r\n\r\n  /**\r\n   * Calculate The Estimated Total for CART\r\n   */\r\n  calculateEstimatedTotal() {\r\n    this.estimatedTotal =\r\n      this.subTotal - this.promoCodeDiscount + this.shippingCharge;\r\n  }\r\n\r\n  /**\r\n   * Apply Promo/Discount Code\r\n   * Active: RK01,Rk02,RK03\r\n   * @param {*} code\r\n   */\r\n  applyPromoCode(code) {\r\n    if (code) {\r\n      code = code.toUpperCase();\r\n      this.promoCode = code;\r\n      switch (code) {\r\n        case \"RK01\":\r\n          this.promoCodeDiscount = 10;\r\n          break;\r\n        case \"RK02\":\r\n          this.promoCodeDiscount = 20;\r\n          break;\r\n        case \"RK03\":\r\n          this.promoCodeDiscount = 30;\r\n          break;\r\n        default:\r\n          this.promoCodeDiscount = 0;\r\n          break;\r\n      }\r\n\r\n      this.calculateEstimatedTotal();\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * Apply Shipping Charge\r\n   * @param {number} charge \r\n   */\r\n  applyShippingCharge(charge) {\r\n    this.shippingCharge = parseFloat(charge);\r\n\r\n    this.calculateEstimatedTotal();\r\n  }\r\n}\r\n\r\nexport default ShoppingCart;\r\n","/**\r\n * PURPOSE      :  This is the Service for Product . This interacts with Remote DB-Server\r\n *\r\n * AUTHOR       :   Rohit Khanna\r\n *\r\n * LICENSE      :   PUBLIC\r\n *\r\n */\r\n\"use strict\";\r\n\r\nclass ProductService {\r\n  /**\r\n   * initializes the Product Service Object\r\n   * @param {*} DALObject Object of DAL IMplmentation\r\n   */\r\n  constructor(DALObject) {\r\n    this.dalObj = DALObject;\r\n  }\r\n\r\n  /**\r\n   * Method to handle the response from DAL API call\r\n   * @param {*} res Response Object from DAL Call\r\n   */\r\n  async _handleDALResponse(res) {\r\n    if (res.status === 200 || res.status === 201) {\r\n      let result = await res.json();\r\n      return result;\r\n    } else {\r\n      throw \"ServiceAPI Call failed. Status Code:\" +\r\n        res.status +\r\n        \"  \" +\r\n        res.statusText;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * this is the Method to SAVE a product Entity.\r\n   * <para>It Returns a Promise</para>\r\n   * @param {*} productEntity new Product\r\n   */\r\n  async saveProductAsync(productEntity) {\r\n  \r\n    \r\n    return new Promise((resolve, reject) => {\r\n      this.dalObj\r\n        .save(productEntity)\r\n        .then(res => {\r\n          return this._handleDALResponse(res);\r\n        })\r\n        .then(output => {\r\n          resolve(output);\r\n        })\r\n        .catch(err => {\r\n          reject(new Error(\"saveProductAsync():\" + err));\r\n        });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Find Specific Product\r\n   * <para>It returns a PROMISE</para>\r\n   * @param {*} id\r\n   */\r\n  async findProductAsync(id) {\r\n    return new Promise((resolve, reject) => {\r\n      this.dalObj\r\n        .findById(id)\r\n        .then(res => {          \r\n          return this._handleDALResponse(res);\r\n        })\r\n        .then(output => {       \r\n          resolve(output);\r\n        })\r\n        .catch(err => {         \r\n          reject(new Error(\"findProductAsync():\" + err));\r\n        });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Find All Products\r\n   * <para>It returns a PROMISE</para>\r\n   */\r\n  async findAllProductsAsync() {\r\n    return new Promise((resolve, reject) => {\r\n      this.dalObj\r\n        .findAll()\r\n        .then(res => {\r\n          return this._handleDALResponse(res);\r\n        })\r\n        .then(output => {\r\n          resolve(output);\r\n        })\r\n        .catch(err => {\r\n          reject(new Error(\"findAllProductsAsync():\" + err));\r\n        });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Update the product\r\n   * <para>It returns a PROMISE</para>\r\n   * @param {*} product product to update\r\n   */\r\n  async updateProductAsync(product) {\r\n    return new Promise((resolve, reject) => {\r\n      this.dalObj\r\n        .update(product)\r\n        .then(res => {\r\n          return this._handleDALResponse(res);\r\n        })\r\n        .then(output => {\r\n          resolve(output);\r\n        })\r\n        .catch(err => {\r\n          reject(new Error(\"updateProductAsync():\" + err));\r\n        });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Delete a Product\r\n   * <para>It returns a PROMISE</para>\r\n   * @param {*} id ID of product to delete\r\n   */\r\n  async deleteProductAsync(id) {\r\n    return new Promise((resolve, reject) => {\r\n      this.dalObj\r\n        .removeById(id)\r\n        .then(res => {\r\n          return this._handleDALResponse(res);\r\n        })\r\n        .then(output => {\r\n          resolve(output);\r\n        })\r\n        .catch(err => {\r\n          reject(new Error(\"deleteProductAsync():\" + err));\r\n        });\r\n    });\r\n  }\r\n}\r\n\r\nexport default ProductService;\r\n","/**\r\n * PURPOSE      :  This is the Shopping Cart Service. This will be Presented to UI.\r\n *\r\n * NOTES/COLOR SCHEME    :\r\n *\r\n * AUTHOR       :   Rohit Khanna\r\n *\r\n * LICENSE      :   PUBLIC\r\n *\r\n */\r\n\r\nimport ShoppingCart from \"../model/ShoppingCart\";\r\nimport ProductService from \"../services/ProductService\";\r\nimport FetchDAL from \"../services/FetchDAL\";\r\n\r\nclass ShoppingCartService {\r\n  constructor(productService) {\r\n    this.cart = new ShoppingCart();\r\n    if (!productService) {\r\n\r\n      let f = new FetchDAL(\"http://localhost:3000/products\");\r\n      this.productService = new ProductService(f);\r\n    } else {\r\n      this.productService = productService;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Load Sample Product Data\r\n   */\r\n  async __loadSampleProductData() {\r\n    //1. Fetch Products\r\n    let productArray = await this.productService.findAllProductsAsync();\r\n\r\n    //2. Create CartProducts  //3. Initial Fillup of Cart\r\n    productArray.forEach(ele => {\r\n      this.cart.addProduct(\r\n        ele.id,\r\n        ele.availableSizes[0],\r\n        ele.availableColors[0],\r\n        ele.price\r\n      );\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Change the Product Quanity In Cart\r\n   * @param {*} id\r\n   * @param {*} newQty\r\n   */\r\n  changeProductQuanity(id, newQty) {\r\n    this.cart.editProduct(id, null, null, newQty);\r\n  }\r\n\r\n  /**\r\n   * Change Product Color in cart\r\n   * @param {*} id\r\n   * @param {*} newColor\r\n   */\r\n  changeProductColor(id, newColor) {\r\n    this.cart.editProduct(id, newColor, null, null);\r\n  }\r\n\r\n  /**\r\n   * Change Product Size in cart\r\n   * @param {*} id\r\n   * @param {*} newSize\r\n   */\r\n  changeProductSize(id, newSize) {\r\n    this.cart.editProduct(id, null, newSize, null);\r\n  }\r\n\r\n  /**\r\n   * Apply Promo Code\r\n   * @param {*} promoCode\r\n   */\r\n  applyPromoCode(promoCode) {\r\n    this.cart.applyPromoCode(promoCode);\r\n  }\r\n\r\n  /**\r\n   * Apply Shipping Charge\r\n   * @param {number} charge\r\n   */\r\n  applyShippingCharge(charge) {\r\n    this.cart.applyShippingCharge(charge);\r\n  }\r\n}\r\n\r\nexport default ShoppingCartService;\r\n","import ShoppingCartService from \"../../backend/services/ShoppingCartService\";\r\n// console.log(ShoppingCartService);\r\n\r\n//\r\n\r\n// // const dal = require(\"../../backend/services/FetchDAL\");\r\n\r\n// // let obj = new dal(\"http://localhost:3000/products\");\r\n\r\n// // console.log(obj);\r\n// // obj.test();\r\n\r\n// // async function t() {\r\n// //   let r = await obj.findAll();\r\n// //   let w=await r.json();\r\n// //   console.log(w);\r\n// // }\r\n\r\n// //  t();\r\n\r\nasync function g(serviceInstance) {\r\n  await serviceInstance.__loadSampleProductData();\r\n  console.log(serviceInstance);\r\n}\r\n// g();\r\n\r\n$(function() {\r\n  console.log(\"JQuery Ready\");\r\n  var serviceInstance = new ShoppingCartService();\r\n  g(serviceInstance);\r\n});\r\n"],"sourceRoot":""}